<!DOCTYPE html>
<html>

<head>
    <title>Stock Data Fetcher</title>
    <!-- XLSX Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <!-- Link to your custom JavaScript file -->
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
    <link rel="stylesheet" href="/static/css/style.css">

</head>

<body>
    <h1>Stock Data Fetcher</h1>
    <div id="loading-indicator" style="display: none; text-align: center;">
        <p>Loading... Please wait.</p>
    </div>

    <!-- Forms -->
    <form onsubmit="fetchLatestStock(event)">
        <label for="latest_stock_id">Stock ID:</label>
        <input id="latest_stock_id" required />
        <button type="submit">Fetch Latest</button>
    </form>
    <div id="latest-stock-data"></div>

    <form onsubmit="processExcelFile(event)">
        <label for="excelFile">Excel File:</label>
        <input id="excelFile" type="file" accept=".xls,.xlsx" required />
        <button type="submit">Upload</button>
    </form>

    <form onsubmit="fetchAllStocks(event)">
        <label>Stock ID:</label>
        <input id="fetch_stock_id" required />
        <label>Limit:</label>
        <input id="limit" type="number" min="1" value="100" />
        <label>Offset:</label>
        <input id="offset" type="number" min="0" value="0" />
        <button type="submit">Fetch All</button>
    </form>
    <div id="all-stocks-data"></div>

    <form onsubmit="performBacktest(event)">
        <label>Stock IDs (comma-separated):</label>
        <input id="backtest_stock_ids" required />
        <button type="submit">Backtest</button>
    </form>
    <div id="backtest-results"></div>

    <div id="error"></div>
</body>

</html>
